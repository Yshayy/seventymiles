{"ts":1369411241428,"silentsave":true,"restoring":false,"patch":[[]],"length":0}
{"contributors":[],"silentsave":false,"ts":1369411257542,"patch":[[{"diffs":[[1,"var apiKey = \"1127\";\r\nvar sessionId = \"1_MX4xMTI3fn5GcmkgTWF5IDI0IDA4OjU1OjE4IFBEVCAyMDEzfjAuMjQ4ODA5OTN-\";\r\nvar token = \"T1==cGFydG5lcl9pZD0xMTI3JnNpZz0zZjhkMzk1NmZhZDkwYzRmOTY3NzRmYWQ0OWM3MDZkNzcyZmM4NTRjOnNlc3Npb25faWQ9MV9NWDR4TVRJM2ZuNUdjbWtnVFdGNUlESTBJREE0T2pVMU9qRTRJRkJFVkNBeU1ERXpmakF1TWpRNE9EQTVPVE4tJmNyZWF0ZV90aW1lPTEzNjk0MTA5MTgmbm9uY2U9NTI4MDI4JnJvbGU9cHVibGlzaGVy\";\r\n\r\n// Enable console logs for debugging\r\nTB.setLogLevel(TB.DEBUG);\r\n\r\n// Initialize session, set up event listeners, and connect\r\nvar session = TB.initSession(sessionId);\r\nsession.addEventListener('sessionConnected', sessionConnectedHandler);\r\nsession.addEventListener('streamCreated', streamCreatedHandler);\r\nsession.connect(apiKey, token);\r\nfunction sessionConnectedHandler(event) {\r\n  var publisher = TB.initPublisher(apiKey, 'myPublisherDiv');\r\n  session.publish(publisher);\r\n\r\n  // Subscribe to streams that were in the session when we connected\r\n  subscribeToStreams(event.streams);\r\n}\r\n\r\nfunction streamCreatedHandler(event) {\r\n  // Subscribe to any new streams that are created\r\n  subscribeToStreams(event.streams);\r\n}\r\n\r\nfunction subscribeToStreams(streams) {\r\n  for (var i = 0; i < streams.length; i++) {\r\n    // Make sure we don't subscribe to ourself\r\n    if (streams[i].connection.connectionId == session.connection.connectionId) {\r\n      return;\r\n    }\r\n\r\n    // Create the div to put the subscriber element in to\r\n    var div = document.createElement('div');\r\n    div.setAttribute('id', 'stream' + streams[i].streamId);\r\n    document.body.appendChild(div);\r\n\r\n    // Subscribe to the stream\r\n    session.subscribe(streams[i], div.id);\r\n  }\r\n}"]],"start1":0,"start2":0,"length1":0,"length2":1638}]],"length":1638,"saved":false}
{"ts":1369411361146,"patch":[[{"diffs":[[1,"<html>\n<head>\n    <script type=\"text/javascript\">\n    "],[0,"var apiKey ="]],"start1":0,"start2":0,"length1":12,"length2":66},{"diffs":[[0," \"1127\";"],[-1,"\r"],[0,"\nvar ses"]],"start1":66,"start2":66,"length1":17,"length2":16},{"diffs":[[0,"A5OTN-\";"],[-1,"\r"],[0,"\nvar tok"]],"start1":152,"start2":152,"length1":17,"length2":16},{"diffs":[[0,"lzaGVy\";"],[-1,"\r\n\r"],[1,"\n"],[0,"\n// Enab"]],"start1":424,"start2":424,"length1":19,"length2":17},{"diffs":[[0,"ebugging"],[-1,"\r"],[0,"\nTB.setL"]],"start1":462,"start2":462,"length1":17,"length2":16},{"diffs":[[0,".DEBUG);"],[-1,"\r\n\r"],[1,"\n"],[0,"\n// Init"]],"start1":488,"start2":488,"length1":19,"length2":17},{"diffs":[[0," connect"],[-1,"\r"],[0,"\nvar ses"]],"start1":548,"start2":548,"length1":17,"length2":16},{"diffs":[[0,"sionId);"],[-1,"\r"],[0,"\nsession"]],"start1":589,"start2":589,"length1":17,"length2":16},{"diffs":[[0,"nnectedHandler);"],[-1,"\r"],[0,"\nsession.addEven"]],"start1":652,"start2":652,"length1":33,"length2":32},{"diffs":[[0,"andler);"],[-1,"\r"],[0,"\nsession"]],"start1":725,"start2":725,"length1":17,"length2":16},{"diffs":[[0," token);"],[-1,"\r"],[0,"\nfunctio"]],"start1":757,"start2":757,"length1":17,"length2":16},{"diffs":[[0,"event) {"],[-1,"\r"],[0,"\n  var p"]],"start1":799,"start2":799,"length1":17,"length2":16},{"diffs":[[0,"erDiv');"],[-1,"\r"],[0,"\n  sessi"]],"start1":861,"start2":861,"length1":17,"length2":16},{"diffs":[[0,"lisher);"],[-1,"\r\n\r"],[1,"\n"],[0,"\n  // Su"]],"start1":891,"start2":891,"length1":19,"length2":17},{"diffs":[[0,"onnected"],[-1,"\r"],[0,"\n  subsc"]],"start1":961,"start2":961,"length1":17,"length2":16},{"diffs":[[0,"(event.streams);"],[-1,"\r"],[0,"\n}"],[-1,"\r\n\r"],[1,"\n"],[0,"\nfunction stream"]],"start1":990,"start2":990,"length1":38,"length2":35},{"diffs":[[0,"event) {"],[-1,"\r"],[0,"\n  // Su"]],"start1":1040,"start2":1040,"length1":17,"length2":16},{"diffs":[[0," created"],[-1,"\r"],[0,"\n  subsc"]],"start1":1091,"start2":1091,"length1":17,"length2":16},{"diffs":[[0,"ms);"],[-1,"\r"],[0,"\n}"],[-1,"\r\n\r"],[1,"\n"],[0,"\nfun"]],"start1":1132,"start2":1132,"length1":14,"length2":11},{"diffs":[[0,"reams) {"],[-1,"\r"],[0,"\n  for ("]],"start1":1170,"start2":1170,"length1":17,"length2":16},{"diffs":[[0,"; i++) {"],[-1,"\r"],[0,"\n    // "]],"start1":1215,"start2":1215,"length1":17,"length2":16},{"diffs":[[0," ourself"],[-1,"\r"],[0,"\n    if "]],"start1":1262,"start2":1262,"length1":17,"length2":16},{"diffs":[[0,"ionId) {"],[-1,"\r"],[0,"\n      r"]],"start1":1343,"start2":1343,"length1":17,"length2":16},{"diffs":[[0,"urn;"],[-1,"\r"],[0,"\n    }"],[-1,"\r\n\r"],[1,"\n"],[0,"\n   "]],"start1":1361,"start2":1361,"length1":18,"length2":15},{"diffs":[[0,"nt in to"],[-1,"\r"],[0,"\n    var"]],"start1":1422,"start2":1422,"length1":17,"length2":16},{"diffs":[[0,"('div');"],[-1,"\r"],[0,"\n    div"]],"start1":1467,"start2":1467,"length1":17,"length2":16},{"diffs":[[0,"reamId);"],[-1,"\r"],[0,"\n    doc"]],"start1":1527,"start2":1527,"length1":17,"length2":16},{"diffs":[[0,"iv);"],[-1,"\r\n\r"],[1,"\n"],[0,"\n   "]],"start1":1567,"start2":1567,"length1":11,"length2":9},{"diffs":[[0,"e stream"],[-1,"\r"],[0,"\n    ses"]],"start1":1595,"start2":1595,"length1":17,"length2":16},{"diffs":[[0,"id);"],[-1,"\r"],[0,"\n  }"],[-1,"\r"],[0,"\n}"],[1,"\n</script>\n</head>\n<body>\n    <div id=\"myPublisherDiv\"></div>\n</body>\n\n</html>"]],"start1":1642,"start2":1642,"length1":12,"length2":88}]],"length":1730,"saved":false}
{"ts":1369411457245,"patch":[[{"diffs":[[0,"\n<head>\n"],[1,"<script src=\"http://static.opentok.com/webrtc/v2.0/js/TB.min.js\"></script>\n"],[0,"    <scr"]],"start1":6,"start2":6,"length1":16,"length2":91}]],"length":1805,"saved":false}
{"ts":1369411499359,"patch":[[{"diffs":[[0,"script>\n"],[1,"\n</head>\n<body>\n    <div id=\"myPublisherDiv\"></div>\n    "],[0,"    <scr"]],"start1":81,"start2":81,"length1":16,"length2":72},{"diffs":[[0,"pt>\n"],[-1,"</head>\n<body>\n    <div id=\"myPublisherDiv\"></div>\n"],[0,"</bo"]],"start1":1790,"start2":1790,"length1":59,"length2":8}]],"length":1810,"saved":false}
{"ts":1369411578556,"patch":[[{"diffs":[[0,"cript\">\n"],[1,"        debugger;\n        console.log(\"script\");\n"],[0,"    var "]],"start1":173,"start2":173,"length1":16,"length2":65}]],"length":1859,"saved":false}
{"ts":1369411804820,"patch":[[{"diffs":[[0,"rc=\"http"],[1,"s"],[0,"://stati"]],"start1":23,"start2":23,"length1":16,"length2":17}]],"length":1860,"saved":false}
{"ts":1369411834192,"patch":[[{"diffs":[[0,"t\">\n"],[-1,"        debugger;\n        console.log(\"script\");\n"],[0,"    "]],"start1":178,"start2":178,"length1":57,"length2":8}]],"length":1811,"saved":false}
